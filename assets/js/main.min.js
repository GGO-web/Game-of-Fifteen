"use strict";

var gameField = document.getElementById("game-field"),
    countCells = gameField.dataset.countcells,
    countRows = +Math.sqrt(countCells);
var emptyCellIndex = +countCells;

var createCells = function createCells() {
  for (var _e = 1; _e < countCells; ++_e) {
    var l = document.createElement("li");
    l.classList.add("game-field__cell"), l.dataset.index = _e, l.innerHTML = _e, gameField.appendChild(l);
  }

  var e = document.createElement("li");
  e.classList.add("game-field__cell"), e.dataset.index = countCells, gameField.appendChild(e);
},
    switchStates = function switchStates(e, l) {
  var t = gameField.querySelector(".game-field__cell:nth-child(".concat(e, ")")),
      n = gameField.querySelector(".game-field__cell:nth-child(".concat(l, ")")),
      c = t.innerHTML,
      s = n.innerHTML;
  t.innerHTML = s, n.innerHTML = c;
},
    isAdjacentCell = function isAdjacentCell(e) {
  var l = !0,
      t = !0,
      n = !0,
      c = !0;
  return e % countRows == 1 && (n = !1), e % countRows == 0 && (c = !1), e / countRows <= 1 && (l = !1), e / countRows > countRows - 1 && (t = !1), !(!n || emptyCellIndex !== e - 1) || !(!c || emptyCellIndex !== e + 1) || !(!l || emptyCellIndex !== e - countRows) || !(!t || emptyCellIndex !== e + countRows);
};

createCells(), gameField.addEventListener("click", function (e) {
  var l = e.target,
      t = l.innerHTML;

  if (l.classList.contains("game-field__cell") && "" != t) {
    var _e2 = +l.dataset.index;

    console.log(isAdjacentCell(_e2)), isAdjacentCell(_e2) && (switchStates(_e2, emptyCellIndex), emptyCellIndex = _e2);
  }
});